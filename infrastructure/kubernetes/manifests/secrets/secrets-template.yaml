# Skillancer Secrets Templates
# IMPORTANT: This file contains placeholder values only.
# Actual secrets should be managed through:
# - AWS Secrets Manager with External Secrets Operator
# - HashiCorp Vault
# - Sealed Secrets
# - Doppler
#
# DO NOT commit actual secret values to version control!

---
# Main application secrets
apiVersion: v1
kind: Secret
metadata:
  name: skillancer-secrets
  namespace: skillancer-production
  labels:
    app.kubernetes.io/name: skillancer-secrets
    app.kubernetes.io/component: secrets
  annotations:
    description: "Main application secrets - DO NOT store real values in VCS"
type: Opaque
stringData:
  # Database credentials
  DATABASE_URL: "postgresql://user:PASSWORD@host:5432/skillancer?sslmode=require"
  DATABASE_PASSWORD: "REPLACE_WITH_ACTUAL_PASSWORD"

  # Redis credentials
  REDIS_URL: "rediss://:PASSWORD@host:6379"
  REDIS_PASSWORD: "REPLACE_WITH_ACTUAL_PASSWORD"

  # JWT secrets
  JWT_SECRET: "REPLACE_WITH_SECURE_RANDOM_STRING"
  JWT_REFRESH_SECRET: "REPLACE_WITH_SECURE_RANDOM_STRING"

  # API keys
  SENTRY_DSN: "https://key@sentry.io/project"

  # Encryption keys
  ENCRYPTION_KEY: "REPLACE_WITH_32_BYTE_HEX_STRING"
---
# Auth service specific secrets
apiVersion: v1
kind: Secret
metadata:
  name: auth-secrets
  namespace: skillancer-production
  labels:
    app: auth-svc
    app.kubernetes.io/name: auth-secrets
type: Opaque
stringData:
  # OAuth providers
  GOOGLE_CLIENT_ID: "REPLACE_WITH_GOOGLE_CLIENT_ID"
  GOOGLE_CLIENT_SECRET: "REPLACE_WITH_GOOGLE_CLIENT_SECRET"
  GITHUB_CLIENT_ID: "REPLACE_WITH_GITHUB_CLIENT_ID"
  GITHUB_CLIENT_SECRET: "REPLACE_WITH_GITHUB_CLIENT_SECRET"
  LINKEDIN_CLIENT_ID: "REPLACE_WITH_LINKEDIN_CLIENT_ID"
  LINKEDIN_CLIENT_SECRET: "REPLACE_WITH_LINKEDIN_CLIENT_SECRET"

  # Session encryption
  SESSION_SECRET: "REPLACE_WITH_SECURE_RANDOM_STRING"

  # MFA encryption
  MFA_ENCRYPTION_KEY: "REPLACE_WITH_32_BYTE_HEX_STRING"
---
# JWT signing keys (RSA key pair)
apiVersion: v1
kind: Secret
metadata:
  name: auth-jwt-keys
  namespace: skillancer-production
  labels:
    app: auth-svc
    app.kubernetes.io/name: auth-jwt-keys
type: Opaque
stringData:
  # RSA private key for signing JWTs
  # Generate with: openssl genrsa -out private.pem 4096
  private.pem: |
    -----BEGIN RSA PRIVATE KEY-----
    REPLACE_WITH_ACTUAL_PRIVATE_KEY
    -----END RSA PRIVATE KEY-----

  # RSA public key for verifying JWTs
  # Generate with: openssl rsa -in private.pem -pubout -out public.pem
  public.pem: |
    -----BEGIN PUBLIC KEY-----
    REPLACE_WITH_ACTUAL_PUBLIC_KEY
    -----END PUBLIC KEY-----
---
# Billing service secrets
apiVersion: v1
kind: Secret
metadata:
  name: billing-secrets
  namespace: skillancer-production
  labels:
    app: billing-svc
    app.kubernetes.io/name: billing-secrets
type: Opaque
stringData:
  # Stripe
  STRIPE_SECRET_KEY: "sk_live_REPLACE_WITH_ACTUAL_KEY"
  STRIPE_PUBLISHABLE_KEY: "pk_live_REPLACE_WITH_ACTUAL_KEY"
  STRIPE_WEBHOOK_SECRET: "whsec_REPLACE_WITH_ACTUAL_SECRET"

  # PayPal (if enabled)
  PAYPAL_CLIENT_ID: "REPLACE_WITH_PAYPAL_CLIENT_ID"
  PAYPAL_CLIENT_SECRET: "REPLACE_WITH_PAYPAL_CLIENT_SECRET"
---
# Notification service secrets
apiVersion: v1
kind: Secret
metadata:
  name: notification-secrets
  namespace: skillancer-production
  labels:
    app: notification-svc
    app.kubernetes.io/name: notification-secrets
type: Opaque
stringData:
  # Email provider (SendGrid/SES)
  SENDGRID_API_KEY: "SG.REPLACE_WITH_ACTUAL_KEY"

  # SMS provider (Twilio)
  TWILIO_ACCOUNT_SID: "REPLACE_WITH_TWILIO_SID"
  TWILIO_AUTH_TOKEN: "REPLACE_WITH_TWILIO_TOKEN"
  TWILIO_PHONE_NUMBER: "+1XXXXXXXXXX"

  # Push notifications (Firebase)
  FIREBASE_SERVICE_ACCOUNT: |
    {
      "type": "service_account",
      "project_id": "skillancer",
      "private_key_id": "REPLACE",
      "private_key": "REPLACE",
      "client_email": "REPLACE",
      "client_id": "REPLACE"
    }
---
# Container registry pull secret
apiVersion: v1
kind: Secret
metadata:
  name: ghcr-secret
  namespace: skillancer-production
  labels:
    app.kubernetes.io/name: ghcr-secret
type: kubernetes.io/dockerconfigjson
stringData:
  .dockerconfigjson: |
    {
      "auths": {
        "ghcr.io": {
          "username": "REPLACE_WITH_GITHUB_USERNAME",
          "password": "REPLACE_WITH_GITHUB_PAT",
          "email": "devops@skillancer.com",
          "auth": "REPLACE_WITH_BASE64_ENCODED_USERNAME_PASSWORD"
        }
      }
    }
---
# Database credentials (separate for security isolation)
apiVersion: v1
kind: Secret
metadata:
  name: db-credentials
  namespace: skillancer-production
  labels:
    app.kubernetes.io/name: db-credentials
type: Opaque
stringData:
  username: "skillancer_app"
  password: "REPLACE_WITH_ACTUAL_PASSWORD"
  host: "skillancer-production.cluster-xxxxx.us-east-1.rds.amazonaws.com"
  port: "5432"
  database: "skillancer"
---
# Redis credentials
apiVersion: v1
kind: Secret
metadata:
  name: redis-credentials
  namespace: skillancer-production
  labels:
    app.kubernetes.io/name: redis-credentials
type: Opaque
stringData:
  password: "REPLACE_WITH_ACTUAL_PASSWORD"
  host: "skillancer-production.xxxxx.cache.amazonaws.com"
  port: "6379"
