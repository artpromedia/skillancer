/** * App tests for
{{name}}
*/ import { describe, it, expect, beforeAll, afterAll } from 'vitest'; import { buildApp } from
'../app.js'; import type { FastifyInstance } from 'fastify'; describe('{{name}}', () => { let app:
FastifyInstance; beforeAll(async () => { app = await buildApp({ logger: false }); await app.ready();
}); afterAll(async () => { await app.close(); }); describe('GET /health', () => { it('should return
health status', async () => { const response = await app.inject({ method: 'GET', url: '/health', });
expect(response.statusCode).toBe(200); const body = JSON.parse(response.body);
expect(body.status).toBe('ok'); expect(body.service).toBe('{{name}}'); }); }); describe('GET
/health/live', () => { it('should return liveness status', async () => { const response = await
app.inject({ method: 'GET', url: '/health/live', }); expect(response.statusCode).toBe(200); const
body = JSON.parse(response.body); expect(body.alive).toBe(true); expect(typeof
body.uptime).toBe('number'); }); }); });